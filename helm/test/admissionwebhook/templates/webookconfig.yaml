---
# Source: admissionwebhook/templates/webookconfig.yaml

#apiVersion: admissionregistration.k8s.io/v1beta1
#kind: MutatingWebhookConfiguration
#metadata:
#  name: RELEASE-NAME-admissionwebhook-mutating-cfg
#  labels:
#    app: admissionwebhook
#webhooks:
#  - name: mutating
#    clientConfig:
#      service:
#        name: admission-webhook-svc
#        namespace: cluster-services
#        path: "/mutate"
#      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFVENDQWZtZ0F3SUJBZ0lSQVBkY0xwWmorQXFBTm0wTWt3WW5BQUl3RFFZSktvWklodmNOQVFFTEJRQXcKSWpFZ01CNEdBMVVFQXhNWFlXUnRhWE56YVc5dUxXTnZiblJ5YjJ4c1pYSXRZMkV3SGhjTk1UZ3hNVE13TVRBMQpOakk0V2hjTk1qZ3hNVEkzTVRBMU5qSTRXakFpTVNBd0hnWURWUVFERXhkaFpHMXBjM05wYjI0dFkyOXVkSEp2CmJHeGxjaTFqWVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT3NaN0JqYW5jZkUKNCtMWjdZRVVTME05YkxBQWtEWDFERWpYdGdmV2poenJWc2lXOUZOcyt1eVFoY1EwMlBGYW9wQzgvNkN2QU1KcApLbnJ1VExlZGRlZ05zeHlqSlh0MWxocDhVclhuV2lBc0YwUGNrVG8zdTRMTWhsb0h4ck12VWFwSHYzeThNdUN4CkRuTytvNlduc2JXWHY5NW9jbnkrWHRGNkRmRytyZTNFS1JLQmpHWEVXWjA0WndjbU4wSjRPcU51cFlxNkdKMUwKZk5xbGIwZE05SUtJQlJ3b1NDN2RQamllblc0MVNBS2lNaUdHN2RxNVRkMS9zeld5N2ZLQm9Mai9yd3B1N0pEegpHNk9HWmh2a3pOWkV3dG5GR3Vrc2xBOG1sd3c4dUI1MnFjWHExc0s0R01xaTFDNmJUZVRSaDA2TVkxSmh0SmplCndaQ1JKN3M2N2FFQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXTUJRR0NDc0cKQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQQpBNElCQVFDU0R5M3lYUjk1Ni9YcStWQ3pTbjdOdUJjMGs3YXVWUWNFTVUyU3c0QnF5MTdXRVRsV3hPcHN3VE9NClBKQkZBVHdUQytTL0ZZZVljNGJwRnZOa2RiWGdJVFBxOEhsUlNjMm1wWXE2cks5NkxOUUlpT3FZUERSRzBodHoKRWgzMjZPU01hb1VBNUsxT09lU3dHUnAyOWs0TnJtUytOenRTcU5yVUxlaUgrcVlOREllOVlhZkc1dG5IQUppOQpMVStXKzBLVkpoNnNUSHVKNjZyTXNHbmZ1VVRtN0IvV0kzSzBjZTBvY2xRblYwU0doY3I4QUtWaFI2MWlTMWRnCndocmhURkY4RjJxazZrMDAyc0p3ZFJpTzNlTnV1WUFKS09vTjVlVDhXZGkrNzBOTHhZT2MzemhzeklLSXVwam4KcEhxMVVnUzU4aFFpQkI2YXNQZ1N6QkVOSGhUZQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
#    rules:
#      - operations: [ "CREATE" ]
#        apiGroups: ["apps", ""]
#        apiVersions: ["v1"]
#        resources: ["deployments","services"]
#    namespaceSelector:
#      matchLabels:
#        admission-webhook: enabled
---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: RELEASE-NAME-admissionwebhook-validation-cfg
  labels:
    app: admissionwebhook
webhooks:
  - name: validation
    clientConfig:
      service:
        name: RELEASE-NAME-admissionwebhook-svc
        namespace: cluster-services
        path: "/validate"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFVENDQWZtZ0F3SUJBZ0lSQVBkY0xwWmorQXFBTm0wTWt3WW5BQUl3RFFZSktvWklodmNOQVFFTEJRQXcKSWpFZ01CNEdBMVVFQXhNWFlXUnRhWE56YVc5dUxXTnZiblJ5YjJ4c1pYSXRZMkV3SGhjTk1UZ3hNVE13TVRBMQpOakk0V2hjTk1qZ3hNVEkzTVRBMU5qSTRXakFpTVNBd0hnWURWUVFERXhkaFpHMXBjM05wYjI0dFkyOXVkSEp2CmJHeGxjaTFqWVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT3NaN0JqYW5jZkUKNCtMWjdZRVVTME05YkxBQWtEWDFERWpYdGdmV2poenJWc2lXOUZOcyt1eVFoY1EwMlBGYW9wQzgvNkN2QU1KcApLbnJ1VExlZGRlZ05zeHlqSlh0MWxocDhVclhuV2lBc0YwUGNrVG8zdTRMTWhsb0h4ck12VWFwSHYzeThNdUN4CkRuTytvNlduc2JXWHY5NW9jbnkrWHRGNkRmRytyZTNFS1JLQmpHWEVXWjA0WndjbU4wSjRPcU51cFlxNkdKMUwKZk5xbGIwZE05SUtJQlJ3b1NDN2RQamllblc0MVNBS2lNaUdHN2RxNVRkMS9zeld5N2ZLQm9Mai9yd3B1N0pEegpHNk9HWmh2a3pOWkV3dG5GR3Vrc2xBOG1sd3c4dUI1MnFjWHExc0s0R01xaTFDNmJUZVRSaDA2TVkxSmh0SmplCndaQ1JKN3M2N2FFQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXTUJRR0NDc0cKQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQQpBNElCQVFDU0R5M3lYUjk1Ni9YcStWQ3pTbjdOdUJjMGs3YXVWUWNFTVUyU3c0QnF5MTdXRVRsV3hPcHN3VE9NClBKQkZBVHdUQytTL0ZZZVljNGJwRnZOa2RiWGdJVFBxOEhsUlNjMm1wWXE2cks5NkxOUUlpT3FZUERSRzBodHoKRWgzMjZPU01hb1VBNUsxT09lU3dHUnAyOWs0TnJtUytOenRTcU5yVUxlaUgrcVlOREllOVlhZkc1dG5IQUppOQpMVStXKzBLVkpoNnNUSHVKNjZyTXNHbmZ1VVRtN0IvV0kzSzBjZTBvY2xRblYwU0doY3I4QUtWaFI2MWlTMWRnCndocmhURkY4RjJxazZrMDAyc0p3ZFJpTzNlTnV1WUFKS09vTjVlVDhXZGkrNzBOTHhZT2MzemhzeklLSXVwam4KcEhxMVVnUzU4aFFpQkI2YXNQZ1N6QkVOSGhUZQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    rules:
      - operations: [ "CREATE" ]
        apiGroups: ["apps", ""]
        apiVersions: ["v1"]
        resources: ["deployments","services"]
    namespaceSelector:
      matchLabels:
        admission-webhook: enabled

---
apiVersion: v1
kind: Secret
metadata:
  name: RELEASE-NAME-admissionwebhook-cert
  labels:
    app: RELEASE-NAME-admissionwebhook
type: Opaque
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURoVENDQW0yZ0F3SUJBZ0lSQUs4cC9DbmxkNkk0T2xPVytOczhhSTR3RFFZSktvWklodmNOQVFFTEJRQXcKSWpFZ01CNEdBMVVFQXhNWFlXUnRhWE56YVc5dUxXTnZiblJ5YjJ4c1pYSXRZMkV3SGhjTk1UZ3hNVE13TVRBMQpOakk0V2hjTk1qZ3hNVEkzTVRBMU5qSTRXakFvTVNZd0pBWURWUVFERXgxU1JVeEZRVk5GTFU1QlRVVXRZV1J0CmFYTnphVzl1ZDJWaWFHOXZhekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFLMzYKbzhwenhkNVhtd3laWm9BNnU2Wk03TnY0OXl3eGpFWDZzb1FsRGJWWUNiY3JvTXdWeW94RkVaQ3ozWExGTzN0Tgpid29ldmNFZXJHTDMrVmIzVTFCakh6dFpOY21oNk4rU3Bqc29DUVNuNGMxdDlmczVTR25BZysvakd0cjlSSk9KClBLNEZ3MUE4ZGtGdVlaM0I5TENxRFlsYVl3dTh3ZlR6ZGtxZVF2bDd6TWtiS0ZiTE1wMFV5SkNpZmpmTm5JYXUKWTZNZVB0bHUzbE92T09nUUpwZ1JYR1JRZXRXSk5pZWRiUkNTMEhUM05DNWZkZnNhQTVxYktGTjA1V0hnRVZVcApUalAwdTVzR2YrRmJKVFBBVjNvc0RkNUJqNTFEc2x6WUlnN1hvd054V3lqRStVMGRzazlwNWZjOFV0L2NKZlJHCm9lTWZuSVBodFBzUm1nd0V5aDBDQXdFQUFhT0JyekNCckRBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGwKQkJZd0ZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd2JRWURWUjBSQkdZdwpaSUl1VWtWTVJVRlRSUzFPUVUxRkxXRmtiV2x6YzJsdmJuZGxZbWh2YjJzdVkyeDFjM1JsY2kxelpYSjJhV05sCmM0SXlVa1ZNUlVGVFJTMU9RVTFGTFdGa2JXbHpjMmx2Ym5kbFltaHZiMnN1WTJ4MWMzUmxjaTF6WlhKMmFXTmwKY3k1emRtTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBT1RFNzl6eVZlUEczWUtZME5wTndWbURCWCtLN3NIaQpoTkxFUjkvY1NIcXpjTEFSZGFLOUY0MmJzYTlVZHRZNHoyeURuR2hYaWtTaEI0UTN3a05iR3VyV1ZWY0FadDgwCkZvN0VIMU05ZE1jakV0S2NKZTJ2ejZsdkdoTVNMWlJPZHhtUEhGMVl6VmJEMWNZNzBjaXlIYVY2bWNDRHNMOWQKTzBxNWVrMENjNmYxRkt5UTZVUXk0VGpISzlJRlVVa01MNGJQYStaUHBZVlFjbkltanY1NTE2dFZNZGRBcmszawp2eEU4WGVDRUhyb2pDUHg4SkZ6NXpLWW5mcDBSSDA3WUkvTUh2S09YaURjQ1poZWxOQ1d3MTdKMTFtWEJQMWZwCkxlcksrbEJZaGlmcE55UkZjdjBRcVVrd1VTWE5aaUl4TE84M0V3RHZyRUhPdXhBY2FIZEFMNmc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBcmZxanluUEYzbGViREpsbWdEcTdwa3pzMi9qM0xER01SZnF5aENVTnRWZ0p0eXVnCnpCWEtqRVVSa0xQZGNzVTdlMDF2Q2g2OXdSNnNZdmY1VnZkVFVHTWZPMWsxeWFIbzM1S21PeWdKQktmaHpXMzEKK3psSWFjQ0Q3K01hMnYxRWs0azhyZ1hEVUR4MlFXNWhuY0gwc0tvTmlWcGpDN3pCOVBOMlNwNUMrWHZNeVJzbwpWc3N5blJUSWtLSitOODJjaHE1am94NCsyVzdlVTY4NDZCQW1tQkZjWkZCNjFZazJKNTF0RUpMUWRQYzBMbDkxCit4b0RtcHNvVTNUbFllQVJWU2xPTS9TN213Wi80VnNsTThCWGVpd04za0dQblVPeVhOZ2lEdGVqQTNGYktNVDUKVFIyeVQybmw5enhTMzl3bDlFYWg0eCtjZytHMCt4R2FEQVRLSFFJREFRQUJBb0lCQVFDRXFXcjl0QnY4TjhjRgo2MjdxZGw2aUoyUXhNLzJkMkVaREVpL1BiY1d2TXV0dG5ibm1CUFBHMDkvWi9CenZLQS84TElad0xCSzdVSjFZCmRnZk4xWmZVNDFCc1c5RVU1LzMvaFA1MmUwZXRJaXFmRDZzU25wSmwrU05oNTBXU0dLK1M1SUc5bksxYTRFKzQKQXVneWVEUVNCZ2wrWThyRXAzRXFTLzgyVk1sekhENVJLaE9lQURVdERoWmx0YXdsblZ5ekt5dFdOWGtTMEJQUworTVROUStBTjNMVEViNzNidmkwSEJuOHgvcnF0TTNYQTFWdzJJZlhUdktnZmJVYnF1bUt2a2J6dVVUbGhuZlRoClJodG0zeXdTVUZDQXZMOGdhNGJ3YVEwT1V0aEdpaEtQUUZsc3d2UlVsRG01YmtPRmpySld4Qk5ETmVIbnFnVHAKMmlKaGluQk5Bb0dCQU56K2ZEVmhDRG1hcmxUOUF0V1VEcjZ4d1UyVE5YVkhja2VMakREYkQxRHp4RHJQWkhIeApZT2JpY1lQc2l3bzRPRXhNWnVwNnRyUWw0d2FtUFpDbE92d04zdEVMQVNRVjk1UkUrckMvOE1UelJtcjhmNFpJCjNGWDVNMk02aUVmenF0L2tVVE9DdGZBeDVuQzRBYTk5cjF5aXM2cHk5VDcxdlhJdHBEVWtsOWozQW9HQkFNbUoKcHVhVlArVkR6N3QwaWRJMW04NEJPbjBVTytIZ1ZxOVlYdE5XWE9qVlFYUUM3UG5PclhKSE5TdnAyZnZQd01mcwo1YXdrS1hHZHVDc0taYTltUzBEWHZFWHlUbUpiUTlpaWkyNXkyRVZvQlNjSFNvc2lkck9sU0JacW5obU11bUdMCldMOGV4OHRXc2pPaG1MS1VHdjJObWIwYjNwL3dPUGJXYllMQzJ1U0xBb0dBZFVHZCsrQ1pNWjlPQXBBZ2NkeFcKR241TVYzSFZPbjRITjhqbVFJSHExWVFSeVRhRFVDWEh5Wm02cTBuVjJEMU9PY1dNRWJ1OHQwY205ejg3aVVUeQpVQXkzL2VpOTJUekNtV3drSzZZY0JSUWpkOTZ6ZHpldm1QcFpkcnYyMVY2SGVyWTFFNFMyTGxUN3RURWN5OVYvCk4wS28yN2FWUTZ1MXNpQmZjVWNTUHE4Q2dZRUF3T28zemU2OXkrcStWVFMzbkhWZVg3SkRWMmxmN05ZK2cvZjIKUlJ3ZE1XNjVDYUNuVUhRckNRSHFmcytKcm9YdWhqRllwQSsxY0NGR0lrVUFrd1k3TUtXUmZlNzBZeWZ6YU5JbQozNkdsTGNMbGM3ZUIvbThONnVaaWU3cXcvY244dXRTVkxkVDc4TU5iTHhzWFBKR1N5SFNiM2k1b1N2YTZ3R1QvClRMVFNyUU1DZ1lBcTZPOEp1MGc4SUFSbC9oS2xuNFFtdExXMmU4ZzRzQitSZkR3TVcwbHJjVnVBOEQvai8rSUgKekZLc3NIczYwZ2IwOFlGZ2s4cW0rclhxNUxkcllGc3E5QkpyeG11MU9VZHROQXRYdFhZaW1tTVJqbzdJR05pMwoyZ3JCQ1Y0M3orYkg2eEFBRzc3Q1ZPd3BjRktZTUpFbnU4YUg4OTRZYzRPNTVxSUFXZzErbkE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
