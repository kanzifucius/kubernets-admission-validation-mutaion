---
# Source: admissionwebhook/templates/webookconfig.yaml

apiVersion: admissionregistration.k8s.io/v1beta1
kind: MutatingWebhookConfiguration
metadata:
  name: RELEASE-NAME-admissionwebhook-mutating-cfg
  labels:
    app: admissionwebhook
webhooks:
  - name: RELEASE-NAME-admissionwebhook.vodacom.co.za
    clientConfig:
      service:
        name: RELEASE-NAME-admissionwebhook
        namespace: cluster-services
        path: "/mutate"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFVENDQWZtZ0F3SUJBZ0lSQUp4d1dHMEkzSVhNb3FXYlljbmFFdFl3RFFZSktvWklodmNOQVFFTEJRQXcKSWpFZ01CNEdBMVVFQXhNWFlXUnRhWE56YVc5dUxXTnZiblJ5YjJ4c1pYSXRZMkV3SGhjTk1UZ3hNakF6TVRFeApOelU0V2hjTk1qZ3hNVE13TVRFeE56VTRXakFpTVNBd0hnWURWUVFERXhkaFpHMXBjM05wYjI0dFkyOXVkSEp2CmJHeGxjaTFqWVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT3MyeEZNL0E4MFAKMmFBTzhIMWJBVmN4d3U3aTYxRy8yOHRYMGErSTV5WTlMRGt1aUU5ZWpZa1QzdGdkKyt3Y05oaXJydTB2UWVvNApQc013ZVpVbGRTcmQ5eTFWRU10aXdCZlZsWHFxTUNXY1lTaTdXMkpMVXRXVjBWSXRGajcrZU41ZjJsNWhZN29sCjgzRVYzRjU4MGxvL1ZFWkdYbXdUK0x1QXV0SC9xUUx6VXVGK0Z6Vld5enBTMFVQMHFVU0RtSUcyd2hnQkVubEsKd201b2wya0FxQnMwemUwaEIzNmZyYjdneXBzSzV5bWVleW1BS2R6RXNlbm9ET1FzdUVOUWlPQ2plVzJDWFBOdwphVS9oOVJPbm05ckRMOSs4TkIycmxTb2Yrb3VsZWtaVlIzak1YMWVvYTdzd2x3TkEwQjlsS1FidHQzU2ZaK1htCkRuSjhONGIyRGpzQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXTUJRR0NDc0cKQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQQpBNElCQVFDR3JRL1RHaHhRTXRFcVpmZGJXZ2IyVEZFa2tlaThNaVZCYXFuZFJJb0djYkVYSkJydWQ2QWNWeWFHCmlmbHI5dVJZM2IyYW5QRnVMdHVOeGpxYlBucEdNVDY4WkFFTVZEMDlhZldhTWFJeUtyZlNCSXBJMEtLR2VaUFMKUktRUzJocngzQ2QrMko0ZlFhOGllQ041dzdsQU1lTGRyV2JxNTVWNWV4dHh0dDNOMmVWRTBERkMvY3l5aHFLNgpmalRPLzBXZUJjNWRDNTFtcmo5THJKR2p6OHQ4NkRWOTM3c0VaV3V2K3NtOUJzZzFhR0xrVWhFQkNZNFdjaXNZCnhlUml6TjhTeTBTb1lmOFVlVURHSVo4L2ZqTUVxY3EwTWhZRERUOEJoNjg0bDdVeU5zZWdZZ0p5RkROYzUyZ2kKM2tZMEdXSVc2VU0yK1ZJYy9WK3J2cjEvZUlQMwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    rules:
      - operations: [ "CREATE" ]
        apiGroups: ["apps", "extensions"]
        apiVersions: ["v1","v1beta1"]
        resources: ["deployments","services","ingresses"]
    namespaceSelector:
      matchLabels:
        admission-webhook: enabled
---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: RELEASE-NAME-admissionwebhook-validation-cfg
  labels:
    app: admissionwebhook
webhooks:
  - name: RELEASE-NAME-admissionwebhook.vodacom.co.za
    clientConfig:
      service:
        name: RELEASE-NAME-admissionwebhook
        namespace: cluster-services
        path: "/validate"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFVENDQWZtZ0F3SUJBZ0lSQUp4d1dHMEkzSVhNb3FXYlljbmFFdFl3RFFZSktvWklodmNOQVFFTEJRQXcKSWpFZ01CNEdBMVVFQXhNWFlXUnRhWE56YVc5dUxXTnZiblJ5YjJ4c1pYSXRZMkV3SGhjTk1UZ3hNakF6TVRFeApOelU0V2hjTk1qZ3hNVE13TVRFeE56VTRXakFpTVNBd0hnWURWUVFERXhkaFpHMXBjM05wYjI0dFkyOXVkSEp2CmJHeGxjaTFqWVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT3MyeEZNL0E4MFAKMmFBTzhIMWJBVmN4d3U3aTYxRy8yOHRYMGErSTV5WTlMRGt1aUU5ZWpZa1QzdGdkKyt3Y05oaXJydTB2UWVvNApQc013ZVpVbGRTcmQ5eTFWRU10aXdCZlZsWHFxTUNXY1lTaTdXMkpMVXRXVjBWSXRGajcrZU41ZjJsNWhZN29sCjgzRVYzRjU4MGxvL1ZFWkdYbXdUK0x1QXV0SC9xUUx6VXVGK0Z6Vld5enBTMFVQMHFVU0RtSUcyd2hnQkVubEsKd201b2wya0FxQnMwemUwaEIzNmZyYjdneXBzSzV5bWVleW1BS2R6RXNlbm9ET1FzdUVOUWlPQ2plVzJDWFBOdwphVS9oOVJPbm05ckRMOSs4TkIycmxTb2Yrb3VsZWtaVlIzak1YMWVvYTdzd2x3TkEwQjlsS1FidHQzU2ZaK1htCkRuSjhONGIyRGpzQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXTUJRR0NDc0cKQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQQpBNElCQVFDR3JRL1RHaHhRTXRFcVpmZGJXZ2IyVEZFa2tlaThNaVZCYXFuZFJJb0djYkVYSkJydWQ2QWNWeWFHCmlmbHI5dVJZM2IyYW5QRnVMdHVOeGpxYlBucEdNVDY4WkFFTVZEMDlhZldhTWFJeUtyZlNCSXBJMEtLR2VaUFMKUktRUzJocngzQ2QrMko0ZlFhOGllQ041dzdsQU1lTGRyV2JxNTVWNWV4dHh0dDNOMmVWRTBERkMvY3l5aHFLNgpmalRPLzBXZUJjNWRDNTFtcmo5THJKR2p6OHQ4NkRWOTM3c0VaV3V2K3NtOUJzZzFhR0xrVWhFQkNZNFdjaXNZCnhlUml6TjhTeTBTb1lmOFVlVURHSVo4L2ZqTUVxY3EwTWhZRERUOEJoNjg0bDdVeU5zZWdZZ0p5RkROYzUyZ2kKM2tZMEdXSVc2VU0yK1ZJYy9WK3J2cjEvZUlQMwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    rules:
      - operations: [ "CREATE" ]
        apiGroups: ["apps", ""]
        apiVersions: ["v1"]
        resources: ["deployments","services"]
    namespaceSelector:
      matchLabels:
        admission-webhook: enabled

---
apiVersion: v1
kind: Secret
metadata:
  name: RELEASE-NAME-admissionwebhook-cert
  labels:
    app: RELEASE-NAME-admissionwebhook
type: Opaque
data:
  cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURoRENDQW15Z0F3SUJBZ0lRYTF2U0dkZFRLQ1l3aldaNUNYbytmakFOQmdrcWhraUc5dzBCQVFzRkFEQWkKTVNBd0hnWURWUVFERXhkaFpHMXBjM05wYjI0dFkyOXVkSEp2Ykd4bGNpMWpZVEFlRncweE9ERXlNRE14TVRFMwpOVGhhRncweU9ERXhNekF4TVRFM05UaGFNQ2d4SmpBa0JnTlZCQU1USFZKRlRFVkJVMFV0VGtGTlJTMWhaRzFwCmMzTnBiMjUzWldKb2IyOXJNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXo2UlAKNU1rR2VSc1pVektaZ0ZBWUMyazZCRTMzNzhnZUhldytxbURKMG9RSEZrdmpRZWhHcWUvb1Byem0xcmRhbFpxMgp2L1ZRYWF3QmxqWXpKYzRueG9QaVVuTGF3RjZJM3MxSGlNTWtoTk9vZlZFVjFFSTBvZ2lkUjdBMStpbHZBSnBzCi9ITXFOMitLREhCSlJhSzlGU0F6NFVEQlZpOVNNUWZwRGo4SjQzbUNsR0JGNUdrL0dWSG9vS0V4VGZsOUhHV2UKWkZ3OVhlYmxzWHRrcEYzOGc1YVVXYlVrMXkzRi9ONEk0UU5xRXBMTmdkSTY1TVR2Um5ubHRCK0RvS1BUWXk5Zgp5YWRlczcyeGRaNG53VHJqOTlZVTBsVWF2cEZwU3ZUenVFdndraHBXbzl1aHJFQWhqcUxDU2loSmVJN2tibGZuCndVR2Z0bnhrcnJPbFVuaHgzd0lEQVFBQm80R3ZNSUdzTUE0R0ExVWREd0VCL3dRRUF3SUZvREFkQmdOVkhTVUUKRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURCdEJnTlZIUkVFWmpCawpnaTVTUlV4RlFWTkZMVTVCVFVVdFlXUnRhWE56YVc5dWQyVmlhRzl2YXk1amJIVnpkR1Z5TFhObGNuWnBZMlZ6CmdqSlNSVXhGUVZORkxVNUJUVVV0WVdSdGFYTnphVzl1ZDJWaWFHOXZheTVqYkhWemRHVnlMWE5sY25acFkyVnoKTG5OMll6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFjcGhET1NjRnphZGhvR3gzWDMwUzJxMG5EdFZ0bXhJRwphSHFNVE9xSjRibU1TNFZvK2FUNy9EdG9CZ2RHVlNjb2VyOGNPRWxUWTlyUUo5cCtTTGxESjVvUXNqcUt1ZHNuCjNBbUNXU2w3Ymw4ZCt5cHY0U01sdkJkUGZsdGZlTG5MYW52QkI4alROMXBXR1hwQXdmcGJCZ1luZGxLcDJVeGwKcklTNUtnb3dkdlM0ZmRpWEhML3lxU2ZIL3VOUDNFenh1d1huUzBUQjdiSXdZUEdqSzVSVDdxZWU0ZlJ2ZzBhRwpUNzNVMWxFMTBqRTZYOTIxRTdjYXFIdE9LOEtrU2wxMSsyRjltWkx2dTZ0S0VFRC8wSFh2RFY0K3FQbFpqcWtoCnJ3Y0hGcjExRlN4Y1RXZjIzOUhxeUhJN2hUOHlTUUs4eFBNaG41VGVBNmVsUUhIMCtOZWNNZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  key.pem: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBejZSUDVNa0dlUnNaVXpLWmdGQVlDMms2QkUzMzc4Z2VIZXcrcW1ESjBvUUhGa3ZqClFlaEdxZS9vUHJ6bTFyZGFsWnEydi9WUWFhd0Jsall6SmM0bnhvUGlVbkxhd0Y2STNzMUhpTU1raE5Pb2ZWRVYKMUVJMG9naWRSN0ExK2lsdkFKcHMvSE1xTjIrS0RIQkpSYUs5RlNBejRVREJWaTlTTVFmcERqOEo0M21DbEdCRgo1R2svR1ZIb29LRXhUZmw5SEdXZVpGdzlYZWJsc1h0a3BGMzhnNWFVV2JVazF5M0YvTjRJNFFOcUVwTE5nZEk2CjVNVHZSbm5sdEIrRG9LUFRZeTlmeWFkZXM3MnhkWjRud1Ryajk5WVUwbFVhdnBGcFN2VHp1RXZ3a2hwV285dWgKckVBaGpxTENTaWhKZUk3a2JsZm53VUdmdG54a3JyT2xVbmh4M3dJREFRQUJBb0lCQUNpcklnckpaTDhyazVZNwovdHltMDA3STJWZ21mVDAxa05DRGlQS042bm1VNmw1dmxwOCtBemtkaC90aHZFU3B2TkE0Y1RxL3JYUkZBRHFQCmV3MFloNm5XQXVuckhQVTRqczQwbnFJbXRteGRtRTZUSnhkZnNEZGNRSkhkN1hTRjBQdnBReGRlNXhIY2dzbFUKNU1VQ3pzM29kTURWa2doelZFSE9MdE5mZld4VDhlNkc0TDh1Tmk2eW0xQnVSMDRRbkdWS2JEaVNPSDE3cEZHdwp5SzFLUWQ1OU1JalNNa21hZ2luOHFIakFNRUhJYlNhUmRSSXd6enhSVmJJNVJNcHdOR1Zha0FzS00vSTJRbkRzCmh5Vk5DM20yT1hVbjNtck12WG1FL0pGY1czVEdhRmRwYkxqZzMrSXVIc3ZzSEFFTGN0QXFhYjl2RkRCMWhpV2wKQWlaLzZrRUNnWUVBNGgyRmZFU2d1UGZyaFY4Ylhrem10d0wwUUNxVTVVR3NpMW1mZEV2YTZTZXd0a21oWUhFdQpZTlVlS21FVktsK3RuZDJzSUxNRXRSY3NlbmtKV1pwcGtxMlExcjRvTDNHV3BBS25EQnc4Y1A0VWF4Z05Tc2VaCmJGRnkyd2NkZU9yaXAycEpkL3hhdDNxTDhNSzJ5MHNBQWFMWmZWaGt0aEk4NlhkTGtvYXN6RGNDZ1lFQTZ4WEEKWlhiMWZYOGUzbDV6RlEwemJzbHprbGJaSE93elMvVCt3T3JyNnVYWlNFaXAxOG16aUh4cU9JblBScG1YdnNkYgpqeWNHQUtUaFhNemJlQXo5Rm82TXpCcXdiU2Z4TU9MQVlXbGwwcWJCaFI5OVJVTHVrYllNZHkzdW9XN2IxeWY4CkxwWldDdGhnZ3YwMng0eHNHMGlqSjNEblh1dkZ4WUVPYU9KQVE1a0NnWUVBcnNiRTVDNGowWFdJcmhtNmpPU0MKUFJuaWRDcTExcE14N0xDRXlSN05BZ1YwMlNJR3hBWVlKQzczVnlpZGRKaHFHYWs3b0RiZnY1NCsraGZPZTEwWQpsNURqY0ttaFpESzNqdVNoL0lGaTByQUNWbGxNQk81TmorVlJFeTNud1F4Rno4UWZMOGgyMG5XOTc0YUNScGNkClZTWnNXQy9ZQU1nT0h5UGYzVTJPQ1hjQ2dZRUFtUi9SOGtWS0lqUnJKdXplaVJmUUtKbVBiZ0tqNlBMeGRzaGUKSjhyZFlHUFc0LzV3b3QzKzB5ZzNDQnk3cG9EbEZwOUVSRHBtN29SM1Jyc3BPVWs4a1RUSkFTbGhRYmlDb2hVUQp1bUtzc0VsdVJBZiswTjZJQnVGTnZWTnQzRGtaZVV2U040WTFCVnRyZ2VidGg0MHYzWld5c0Q0YWR2bWNHTW0zCldSb0dRZ0VDZ1lCUHRFbktGTUdobFNkQ3FkWkd4OUw2dkcrbmIrdDNtTS9HMmdNN0x6bU5xVmNQQ2tzY0w3Sk0KVkh2VEZCamc0MEpmREVOckV6cHJtMEFTZFRNWk05R1ljZWxEMjgyeVJ3dXpnTEdsaU5qU0lHK01VVGI5WVgvcQorMjJKOXBkQXNhaHE3WFpFSmhkVWpTYWZ5NlpjczR3RFNWeWUycUpBSXRWNml0cDlieFVIQUE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

